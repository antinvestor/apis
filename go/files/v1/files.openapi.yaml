openapi: 3.1.0
info:
  title: Files Management API
  description: The Files Management API provides comprehensive file and media management capabilities including upload, download, thumbnail generation, and search. Files are identified using MXC URIs (mxc://server/media_id) following Matrix content repository patterns. The API supports content type detection, file metadata tracking, thumbnail generation with configurable dimensions, URL preview generation, and efficient search across uploaded media.
  contact:
    name: Ant Investor Ltd
    url: https://github.com/antinvestor/apis
    email: info@antinvestor.com
  license:
    name: Apache License
    url: https://github.com/antinvestor/apis/blob/master/LICENSE
  version: v1.0.0
paths:
  /files.v1.FilesService/AbortMultipartUpload:
    post:
      tags:
        - Media
        - files.v1.FilesService
      summary: Abort multipart upload
      description: Aborts a multipart upload, discarding all uploaded parts.
      operationId: abortMultipartUpload
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/files.v1.AbortMultipartUploadRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.AbortMultipartUploadResponse'
  /files.v1.FilesService/BatchDeleteContent:
    post:
      tags:
        - Media
        - files.v1.FilesService
      summary: Batch delete content
      description: Deletes multiple files in a single request.
      operationId: batchDeleteContent
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/files.v1.BatchDeleteContentRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.BatchDeleteContentResponse'
  /files.v1.FilesService/BatchGetContent:
    get:
      tags:
        - Media
        - files.v1.FilesService
      summary: Batch get content
      description: Retrieves multiple files in a single request.
      operationId: batchGetContent
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
        - name: message
          in: query
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.BatchGetContentRequest'
        - name: encoding
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/encoding'
        - name: base64
          in: query
          schema:
            $ref: '#/components/schemas/base64'
        - name: compression
          in: query
          schema:
            $ref: '#/components/schemas/compression'
        - name: connect
          in: query
          schema:
            $ref: '#/components/schemas/connect'
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.BatchGetContentResponse'
    post:
      tags:
        - Media
        - files.v1.FilesService
      summary: Batch get content
      description: Retrieves multiple files in a single request.
      operationId: batchGetContent
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/files.v1.BatchGetContentRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.BatchGetContentResponse'
  /files.v1.FilesService/CompleteMultipartUpload:
    post:
      tags:
        - Media
        - files.v1.FilesService
      summary: Complete multipart upload
      description: Completes a multipart upload and returns the final media metadata.
      operationId: completeMultipartUpload
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/files.v1.CompleteMultipartUploadRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.CompleteMultipartUploadResponse'
  /files.v1.FilesService/CreateContent:
    post:
      tags:
        - Media
        - files.v1.FilesService
      summary: Create MXC URI without content
      description: Creates a new MXC URI without uploading content. Use the returned server_name and media_id with UploadContent to upload the actual content later. Useful for resumable uploads or when you need the URI before content is ready.
      operationId: createContent
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/files.v1.CreateContentRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.CreateContentResponse'
  /files.v1.FilesService/CreateMultipartUpload:
    post:
      tags:
        - Media
        - files.v1.FilesService
      summary: Create multipart upload
      description: Creates a new multipart upload and returns an upload ID.
      operationId: createMultipartUpload
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/files.v1.CreateMultipartUploadRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.CreateMultipartUploadResponse'
  /files.v1.FilesService/DeleteContent:
    post:
      tags:
        - Media
        - files.v1.FilesService
      summary: Delete content
      description: Deletes content from the repository. Supports both soft and hard delete.
      operationId: deleteContent
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/files.v1.DeleteContentRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.DeleteContentResponse'
  /files.v1.FilesService/GetConfig:
    get:
      tags:
        - Media
        - files.v1.FilesService
      summary: Get repository configuration
      description: Retrieves the content repository configuration including upload size limits and other parameters.
      operationId: getConfig
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
        - name: message
          in: query
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetConfigRequest'
        - name: encoding
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/encoding'
        - name: base64
          in: query
          schema:
            $ref: '#/components/schemas/base64'
        - name: compression
          in: query
          schema:
            $ref: '#/components/schemas/compression'
        - name: connect
          in: query
          schema:
            $ref: '#/components/schemas/connect'
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetConfigResponse'
    post:
      tags:
        - Media
        - files.v1.FilesService
      summary: Get repository configuration
      description: Retrieves the content repository configuration including upload size limits and other parameters.
      operationId: getConfig
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/files.v1.GetConfigRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetConfigResponse'
  /files.v1.FilesService/GetContent:
    get:
      tags:
        - Media
        - files.v1.FilesService
      summary: Download content
      description: Downloads content from the content repository using its MXC URI.
      operationId: getContent
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
        - name: message
          in: query
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetContentRequest'
        - name: encoding
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/encoding'
        - name: base64
          in: query
          schema:
            $ref: '#/components/schemas/base64'
        - name: compression
          in: query
          schema:
            $ref: '#/components/schemas/compression'
        - name: connect
          in: query
          schema:
            $ref: '#/components/schemas/connect'
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetContentResponse'
    post:
      tags:
        - Media
        - files.v1.FilesService
      summary: Download content
      description: Downloads content from the content repository using its MXC URI.
      operationId: getContent
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/files.v1.GetContentRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetContentResponse'
  /files.v1.FilesService/GetContentOverrideName:
    get:
      tags:
        - Media
        - files.v1.FilesService
      summary: Download content with filename override
      description: Downloads content from the repository and overrides the filename in Content-Disposition header.
      operationId: getContentOverrideName
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
        - name: message
          in: query
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetContentOverrideNameRequest'
        - name: encoding
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/encoding'
        - name: base64
          in: query
          schema:
            $ref: '#/components/schemas/base64'
        - name: compression
          in: query
          schema:
            $ref: '#/components/schemas/compression'
        - name: connect
          in: query
          schema:
            $ref: '#/components/schemas/connect'
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetContentOverrideNameResponse'
    post:
      tags:
        - Media
        - files.v1.FilesService
      summary: Download content with filename override
      description: Downloads content from the repository and overrides the filename in Content-Disposition header.
      operationId: getContentOverrideName
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/files.v1.GetContentOverrideNameRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetContentOverrideNameResponse'
  /files.v1.FilesService/GetContentThumbnail:
    get:
      tags:
        - Media
        - files.v1.FilesService
      summary: Get content thumbnail
      description: Retrieves a thumbnail of content with specified dimensions and resizing method. Supports both static and animated thumbnails.
      operationId: getContentThumbnail
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
        - name: message
          in: query
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetContentThumbnailRequest'
        - name: encoding
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/encoding'
        - name: base64
          in: query
          schema:
            $ref: '#/components/schemas/base64'
        - name: compression
          in: query
          schema:
            $ref: '#/components/schemas/compression'
        - name: connect
          in: query
          schema:
            $ref: '#/components/schemas/connect'
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetContentThumbnailResponse'
    post:
      tags:
        - Media
        - files.v1.FilesService
      summary: Get content thumbnail
      description: Retrieves a thumbnail of content with specified dimensions and resizing method. Supports both static and animated thumbnails.
      operationId: getContentThumbnail
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/files.v1.GetContentThumbnailRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetContentThumbnailResponse'
  /files.v1.FilesService/GetRetentionPolicy:
    get:
      tags:
        - Retention
        - files.v1.FilesService
      summary: Get retention policy
      description: Gets retention policy for a file.
      operationId: getRetentionPolicy
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
        - name: message
          in: query
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetRetentionPolicyRequest'
        - name: encoding
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/encoding'
        - name: base64
          in: query
          schema:
            $ref: '#/components/schemas/base64'
        - name: compression
          in: query
          schema:
            $ref: '#/components/schemas/compression'
        - name: connect
          in: query
          schema:
            $ref: '#/components/schemas/connect'
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetRetentionPolicyResponse'
    post:
      tags:
        - Retention
        - files.v1.FilesService
      summary: Get retention policy
      description: Gets retention policy for a file.
      operationId: getRetentionPolicy
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/files.v1.GetRetentionPolicyRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetRetentionPolicyResponse'
  /files.v1.FilesService/GetSignedDownloadUrl:
    get:
      tags:
        - Media
        - files.v1.FilesService
      summary: Get signed download URL
      description: Gets a signed URL for direct download from storage.
      operationId: getSignedDownloadUrl
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
        - name: message
          in: query
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetSignedDownloadUrlRequest'
        - name: encoding
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/encoding'
        - name: base64
          in: query
          schema:
            $ref: '#/components/schemas/base64'
        - name: compression
          in: query
          schema:
            $ref: '#/components/schemas/compression'
        - name: connect
          in: query
          schema:
            $ref: '#/components/schemas/connect'
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetSignedDownloadUrlResponse'
    post:
      tags:
        - Media
        - files.v1.FilesService
      summary: Get signed download URL
      description: Gets a signed URL for direct download from storage.
      operationId: getSignedDownloadUrl
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/files.v1.GetSignedDownloadUrlRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetSignedDownloadUrlResponse'
  /files.v1.FilesService/GetSignedUploadUrl:
    post:
      tags:
        - Media
        - files.v1.FilesService
      summary: Get signed upload URL
      description: Gets a signed URL for direct upload to storage.
      operationId: getSignedUploadUrl
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/files.v1.GetSignedUploadUrlRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetSignedUploadUrlResponse'
  /files.v1.FilesService/GetStorageStats:
    get:
      tags:
        - Analytics
        - files.v1.FilesService
      summary: Get storage stats
      description: Retrieves global storage statistics.
      operationId: getStorageStats
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
        - name: message
          in: query
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetStorageStatsRequest'
        - name: encoding
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/encoding'
        - name: base64
          in: query
          schema:
            $ref: '#/components/schemas/base64'
        - name: compression
          in: query
          schema:
            $ref: '#/components/schemas/compression'
        - name: connect
          in: query
          schema:
            $ref: '#/components/schemas/connect'
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetStorageStatsResponse'
    post:
      tags:
        - Analytics
        - files.v1.FilesService
      summary: Get storage stats
      description: Retrieves global storage statistics.
      operationId: getStorageStats
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/files.v1.GetStorageStatsRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetStorageStatsResponse'
  /files.v1.FilesService/GetUrlPreview:
    get:
      tags:
        - Media
        - files.v1.FilesService
      summary: Get URL preview
      description: Retrieves OpenGraph metadata for a URL to render a preview. Returns title, description, image, and other metadata.
      operationId: getUrlPreview
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
        - name: message
          in: query
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetUrlPreviewRequest'
        - name: encoding
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/encoding'
        - name: base64
          in: query
          schema:
            $ref: '#/components/schemas/base64'
        - name: compression
          in: query
          schema:
            $ref: '#/components/schemas/compression'
        - name: connect
          in: query
          schema:
            $ref: '#/components/schemas/connect'
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetUrlPreviewResponse'
    post:
      tags:
        - Media
        - files.v1.FilesService
      summary: Get URL preview
      description: Retrieves OpenGraph metadata for a URL to render a preview. Returns title, description, image, and other metadata.
      operationId: getUrlPreview
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/files.v1.GetUrlPreviewRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetUrlPreviewResponse'
  /files.v1.FilesService/GetUserUsage:
    get:
      tags:
        - Analytics
        - files.v1.FilesService
      summary: Get user usage
      description: Retrieves usage statistics for a user.
      operationId: getUserUsage
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
        - name: message
          in: query
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetUserUsageRequest'
        - name: encoding
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/encoding'
        - name: base64
          in: query
          schema:
            $ref: '#/components/schemas/base64'
        - name: compression
          in: query
          schema:
            $ref: '#/components/schemas/compression'
        - name: connect
          in: query
          schema:
            $ref: '#/components/schemas/connect'
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetUserUsageResponse'
    post:
      tags:
        - Analytics
        - files.v1.FilesService
      summary: Get user usage
      description: Retrieves usage statistics for a user.
      operationId: getUserUsage
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/files.v1.GetUserUsageRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetUserUsageResponse'
  /files.v1.FilesService/GetVersions:
    get:
      tags:
        - Media
        - files.v1.FilesService
      summary: Get file versions
      description: Retrieves all versions of a file.
      operationId: getVersions
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
        - name: message
          in: query
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetVersionsRequest'
        - name: encoding
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/encoding'
        - name: base64
          in: query
          schema:
            $ref: '#/components/schemas/base64'
        - name: compression
          in: query
          schema:
            $ref: '#/components/schemas/compression'
        - name: connect
          in: query
          schema:
            $ref: '#/components/schemas/connect'
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetVersionsResponse'
    post:
      tags:
        - Media
        - files.v1.FilesService
      summary: Get file versions
      description: Retrieves all versions of a file.
      operationId: getVersions
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/files.v1.GetVersionsRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.GetVersionsResponse'
  /files.v1.FilesService/HeadContent:
    get:
      tags:
        - Media
        - files.v1.FilesService
      summary: Get content metadata
      description: Retrieves metadata for content without downloading the content itself.
      operationId: headContent
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
        - name: message
          in: query
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.HeadContentRequest'
        - name: encoding
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/encoding'
        - name: base64
          in: query
          schema:
            $ref: '#/components/schemas/base64'
        - name: compression
          in: query
          schema:
            $ref: '#/components/schemas/compression'
        - name: connect
          in: query
          schema:
            $ref: '#/components/schemas/connect'
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.HeadContentResponse'
    post:
      tags:
        - Media
        - files.v1.FilesService
      summary: Get content metadata
      description: Retrieves metadata for content without downloading the content itself.
      operationId: headContent
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/files.v1.HeadContentRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.HeadContentResponse'
  /files.v1.FilesService/ListMultipartParts:
    get:
      tags:
        - Media
        - files.v1.FilesService
      summary: List multipart parts
      description: Lists all uploaded parts of a multipart upload.
      operationId: listMultipartParts
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
        - name: message
          in: query
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.ListMultipartPartsRequest'
        - name: encoding
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/encoding'
        - name: base64
          in: query
          schema:
            $ref: '#/components/schemas/base64'
        - name: compression
          in: query
          schema:
            $ref: '#/components/schemas/compression'
        - name: connect
          in: query
          schema:
            $ref: '#/components/schemas/connect'
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.ListMultipartPartsResponse'
    post:
      tags:
        - Media
        - files.v1.FilesService
      summary: List multipart parts
      description: Lists all uploaded parts of a multipart upload.
      operationId: listMultipartParts
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/files.v1.ListMultipartPartsRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.ListMultipartPartsResponse'
  /files.v1.FilesService/ListRetentionPolicies:
    get:
      tags:
        - Retention
        - files.v1.FilesService
      summary: List retention policies
      description: Lists available retention policies.
      operationId: listRetentionPolicies
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
        - name: message
          in: query
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.ListRetentionPoliciesRequest'
        - name: encoding
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/encoding'
        - name: base64
          in: query
          schema:
            $ref: '#/components/schemas/base64'
        - name: compression
          in: query
          schema:
            $ref: '#/components/schemas/compression'
        - name: connect
          in: query
          schema:
            $ref: '#/components/schemas/connect'
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.ListRetentionPoliciesResponse'
    post:
      tags:
        - Retention
        - files.v1.FilesService
      summary: List retention policies
      description: Lists available retention policies.
      operationId: listRetentionPolicies
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/files.v1.ListRetentionPoliciesRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.ListRetentionPoliciesResponse'
  /files.v1.FilesService/RestoreVersion:
    post:
      tags:
        - Media
        - files.v1.FilesService
      summary: Restore version
      description: Restores a specific version of a file as the current version.
      operationId: restoreVersion
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/files.v1.RestoreVersionRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.RestoreVersionResponse'
  /files.v1.FilesService/SearchMedia:
    get:
      tags:
        - Media
        - files.v1.FilesService
      summary: Search media files
      description: Searches for media files matching specified criteria with support for pagination, owner filtering, and date range filtering.
      operationId: searchMedia
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
        - name: message
          in: query
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.SearchMediaRequest'
        - name: encoding
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/encoding'
        - name: base64
          in: query
          schema:
            $ref: '#/components/schemas/base64'
        - name: compression
          in: query
          schema:
            $ref: '#/components/schemas/compression'
        - name: connect
          in: query
          schema:
            $ref: '#/components/schemas/connect'
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.SearchMediaResponse'
    post:
      tags:
        - Media
        - files.v1.FilesService
      summary: Search media files
      description: Searches for media files matching specified criteria with support for pagination, owner filtering, and date range filtering.
      operationId: searchMedia
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/files.v1.SearchMediaRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.SearchMediaResponse'
  /files.v1.FilesService/SetRetentionPolicy:
    post:
      tags:
        - Retention
        - files.v1.FilesService
      summary: Set retention policy
      description: Sets retention policy for a file.
      operationId: setRetentionPolicy
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/files.v1.SetRetentionPolicyRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.SetRetentionPolicyResponse'
  /files.v1.FilesService/UploadContent: {}
  /files.v1.FilesService/UploadMultipartPart:
    post:
      tags:
        - Media
        - files.v1.FilesService
      summary: Upload multipart part
      description: Uploads a part of a multipart upload and returns the ETag.
      operationId: uploadMultipartPart
      parameters:
        - name: Connect-Protocol-Version
          in: header
          required: true
          schema:
            $ref: '#/components/schemas/connect-protocol-version'
        - name: Connect-Timeout-Ms
          in: header
          schema:
            $ref: '#/components/schemas/connect-timeout-header'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/files.v1.UploadMultipartPartRequest'
        required: true
      responses:
        default:
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/connect.error'
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/files.v1.UploadMultipartPartResponse'
components:
  schemas:
    base64:
      type: boolean
      title: base64
      description: Specifies if the message query param is base64 encoded, which may be required for binary data
    compression:
      title: compression
      enum:
        - identity
        - gzip
        - br
      description: Which compression algorithm to use for this request
    connect:
      title: connect
      enum:
        - v1
      description: Define the version of the Connect protocol
    connect-protocol-version:
      type: number
      title: Connect-Protocol-Version
      enum:
        - 1
      description: Define the version of the Connect protocol
      const: 1
    connect-timeout-header:
      type: number
      title: Connect-Timeout-Ms
      description: Define the timeout, in ms
    connect.error:
      type: object
      properties:
        code:
          type: string
          examples:
            - not_found
          enum:
            - canceled
            - unknown
            - invalid_argument
            - deadline_exceeded
            - not_found
            - already_exists
            - permission_denied
            - resource_exhausted
            - failed_precondition
            - aborted
            - out_of_range
            - unimplemented
            - internal
            - unavailable
            - data_loss
            - unauthenticated
          description: The status code, which should be an enum value of [google.rpc.Code][google.rpc.Code].
        message:
          type: string
          description: A developer-facing error message, which should be in English. Any user-facing error message should be localized and sent in the [google.rpc.Status.details][google.rpc.Status.details] field, or localized by the client.
        details:
          type: array
          items:
            $ref: '#/components/schemas/connect.error_details.Any'
          description: A list of messages that carry the error details. There is no limit on the number of messages.
      title: Connect Error
      additionalProperties: true
      description: 'Error type returned by Connect: https://connectrpc.com/docs/go/errors/#http-representation'
    connect.error_details.Any:
      type: object
      properties:
        type:
          type: string
          description: 'A URL that acts as a globally unique identifier for the type of the serialized message. For example: `type.googleapis.com/google.rpc.ErrorInfo`. This is used to determine the schema of the data in the `value` field and is the discriminator for the `debug` field.'
        value:
          type: string
          format: binary
          description: The Protobuf message, serialized as bytes and base64-encoded. The specific message type is identified by the `type` field.
        debug:
          oneOf:
            - type: object
              title: Any
              additionalProperties: true
              description: Detailed error information.
          discriminator:
            propertyName: type
          title: Debug
          description: Deserialized error detail payload. The 'type' field indicates the schema. This field is for easier debugging and should not be relied upon for application logic.
      additionalProperties: true
      description: Contains an arbitrary serialized message along with a @type that describes the type of the serialized message, with an additional debug field for ConnectRPC error details.
    encoding:
      title: encoding
      enum:
        - proto
        - json
      description: Define which encoding or 'Message-Codec' to use
    files.v1.AbortMultipartUploadRequest:
      type: object
      properties:
        uploadId:
          type: string
          title: upload_id
          description: Upload ID to abort
      title: AbortMultipartUploadRequest
      additionalProperties: false
    files.v1.AbortMultipartUploadResponse:
      type: object
      properties:
        aborted:
          type: boolean
          title: aborted
          description: Whether the upload was aborted
      title: AbortMultipartUploadResponse
      additionalProperties: false
    files.v1.BatchDeleteContentRequest:
      type: object
      properties:
        mediaIds:
          type: array
          items:
            type: string
          title: media_ids
          description: List of media IDs to delete
        hardDelete:
          type: boolean
          title: hard_delete
          description: Hard or soft delete
      title: BatchDeleteContentRequest
      additionalProperties: false
    files.v1.BatchDeleteContentResponse:
      type: object
      properties:
        results:
          type: array
          items:
            $ref: '#/components/schemas/files.v1.BatchDeleteContentResponse.DeleteResult'
          title: results
          description: Results for each requested ID
      title: BatchDeleteContentResponse
      additionalProperties: false
    files.v1.BatchDeleteContentResponse.DeleteResult:
      type: object
      properties:
        mediaId:
          type: string
          title: media_id
          description: Media ID
        success:
          type: boolean
          title: success
          description: Whether deletion succeeded
        error:
          type: string
          title: error
          description: Error message if failed
      title: DeleteResult
      additionalProperties: false
    files.v1.BatchGetContentRequest:
      type: object
      properties:
        mediaIds:
          type: array
          items:
            type: string
          title: media_ids
          description: List of media IDs to retrieve
      title: BatchGetContentRequest
      additionalProperties: false
    files.v1.BatchGetContentResponse:
      type: object
      properties:
        results:
          type: array
          items:
            $ref: '#/components/schemas/files.v1.BatchGetContentResponse.ContentResult'
          title: results
          description: Results for each requested ID
      title: BatchGetContentResponse
      additionalProperties: false
    files.v1.BatchGetContentResponse.ContentResult:
      type: object
      allOf:
        - properties:
            mediaId:
              type: string
              title: media_id
              description: Media ID
        - oneOf:
            - properties:
                content:
                  title: content
                  description: Content if successful
                  $ref: '#/components/schemas/files.v1.GetContentResponse'
              title: content
              required:
                - content
            - properties:
                error:
                  type: string
                  title: error
                  description: Error message if failed
              title: error
              required:
                - error
      title: ContentResult
      additionalProperties: false
    files.v1.CompleteMultipartUploadRequest:
      type: object
      properties:
        uploadId:
          type: string
          title: upload_id
          description: Upload ID from CreateMultipartUpload
        parts:
          type: array
          items:
            $ref: '#/components/schemas/files.v1.CompleteMultipartUploadRequest.Part'
          title: parts
          description: List of uploaded parts
      title: CompleteMultipartUploadRequest
      additionalProperties: false
    files.v1.CompleteMultipartUploadRequest.Part:
      type: object
      properties:
        partNumber:
          type: integer
          title: part_number
          format: int32
          description: Part number
        etag:
          type: string
          title: etag
          description: ETag from UploadMultipartPart
      title: Part
      additionalProperties: false
    files.v1.CompleteMultipartUploadResponse:
      type: object
      properties:
        metadata:
          title: metadata
          description: Final media metadata
          $ref: '#/components/schemas/files.v1.MediaMetadata'
      title: CompleteMultipartUploadResponse
      additionalProperties: false
    files.v1.CreateContentRequest:
      type: object
      properties:
        contentType:
          type: string
          title: content_type
          description: Expected MIME type of the content
        filename:
          type: string
          title: filename
          description: Expected filename
        visibility:
          title: visibility
          description: Initial visibility
          $ref: '#/components/schemas/files.v1.MediaMetadata.Visibility'
        expiresAt:
          title: expires_at
          description: Expiration timestamp
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: CreateContentRequest
      additionalProperties: false
      description: |-
        CreateContentRequest creates a new MXC URI without uploading content.
         The returned MXC URI can be used later with UploadContent by setting the
         server_name and media_id fields in UploadMetadata.
    files.v1.CreateContentResponse:
      type: object
      properties:
        contentUri:
          type: string
          title: content_uri
          description: The mxc:// URI for future upload
        expiresAt:
          title: expires_at
          description: Timestamp when the URI expires if unused
          $ref: '#/components/schemas/google.protobuf.Timestamp'
        mediaId:
          type: string
          title: media_id
          description: Extracted media ID from the URI
        serverName:
          type: string
          title: server_name
          description: Extracted server name from the URI
      title: CreateContentResponse
      additionalProperties: false
      description: CreateContentResponse returns the created MXC URI.
    files.v1.CreateMultipartUploadRequest:
      type: object
      properties:
        filename:
          type: string
          title: filename
          description: Original filename
        contentType:
          type: string
          title: content_type
          description: Expected MIME type
        totalSize:
          type:
            - integer
            - string
          title: total_size
          format: int64
          description: Total size of the file
        ownerId:
          type: string
          title: owner_id
          description: Owner ID
        visibility:
          title: visibility
          description: Initial visibility
          $ref: '#/components/schemas/files.v1.MediaMetadata.Visibility'
        expiresAt:
          title: expires_at
          description: Expiration timestamp
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: CreateMultipartUploadRequest
      additionalProperties: false
    files.v1.CreateMultipartUploadResponse:
      type: object
      properties:
        uploadId:
          type: string
          title: upload_id
          description: Upload ID for the multipart upload
      title: CreateMultipartUploadResponse
      additionalProperties: false
    files.v1.DeleteContentRequest:
      type: object
      properties:
        mediaId:
          type: string
          title: media_id
          description: Media ID to delete
        hardDelete:
          type: boolean
          title: hard_delete
          description: True for hard delete, false for soft delete
      title: DeleteContentRequest
      additionalProperties: false
    files.v1.DeleteContentResponse:
      type: object
      properties:
        success:
          type: boolean
          title: success
          description: Whether the deletion was successful
      title: DeleteContentResponse
      additionalProperties: false
    files.v1.FileVersion:
      type: object
      properties:
        version:
          type:
            - integer
            - string
          title: version
          format: int64
          description: Version number
        mediaId:
          type: string
          title: media_id
          description: Media ID for this version
        createdAt:
          title: created_at
          description: When this version was created
          $ref: '#/components/schemas/google.protobuf.Timestamp'
        createdBy:
          type: string
          title: created_by
          description: Who created this version
        sizeBytes:
          type:
            - integer
            - string
          title: size_bytes
          format: int64
          description: Size of this version
      title: FileVersion
      additionalProperties: false
    files.v1.GetConfigRequest:
      type: object
      title: GetConfigRequest
      additionalProperties: false
      description: GetConfigRequest retrieves content repository configuration. Empty request
    files.v1.GetConfigResponse:
      type: object
      properties:
        maxUploadBytes:
          type:
            - integer
            - string
          title: max_upload_bytes
          format: int64
          description: Maximum upload size in bytes
        directClientUploadEnabled:
          type: boolean
          title: direct_client_upload_enabled
          description: Whether direct client upload is enabled
        extra:
          title: extra
          description: Additional configuration
          $ref: '#/components/schemas/google.protobuf.Struct'
      title: GetConfigResponse
      additionalProperties: false
      description: GetConfigResponse returns repository configuration.
    files.v1.GetContentOverrideNameRequest:
      type: object
      properties:
        mediaId:
          type: string
          title: media_id
          minLength: 1
          description: Media ID from MXC URI
        fileName:
          type: string
          title: file_name
          minLength: 1
          description: Override filename
        timeoutMs:
          type:
            - integer
            - string
          title: timeout_ms
          format: int64
          description: Timeout in milliseconds (default 20000)
      title: GetContentOverrideNameRequest
      additionalProperties: false
      description: GetContentOverrideNameRequest downloads content with a specific filename.
    files.v1.GetContentOverrideNameResponse:
      type: object
      properties:
        content:
          type: string
          title: content
          format: byte
          description: The file content
        metadata:
          title: metadata
          description: Media metadata
          $ref: '#/components/schemas/files.v1.MediaMetadata'
      title: GetContentOverrideNameResponse
      additionalProperties: false
      description: GetContentOverrideNameResponse returns content with overridden filename.
    files.v1.GetContentRequest:
      type: object
      properties:
        mediaId:
          type: string
          title: media_id
          minLength: 1
          description: Media ID from MXC URI
        timeoutMs:
          type:
            - integer
            - string
          title: timeout_ms
          format: int64
          description: Timeout in milliseconds (default 20000)
      title: GetContentRequest
      additionalProperties: false
      description: GetContentRequest downloads content from the repository.
    files.v1.GetContentResponse:
      type: object
      properties:
        content:
          type: string
          title: content
          format: byte
          description: The file content
        metadata:
          title: metadata
          description: Media metadata
          $ref: '#/components/schemas/files.v1.MediaMetadata'
      title: GetContentResponse
      additionalProperties: false
      description: GetContentResponse returns the requested content.
    files.v1.GetContentThumbnailRequest:
      type: object
      properties:
        mediaId:
          type: string
          title: media_id
          minLength: 1
          description: Media ID from MXC URI
        width:
          exclusiveMinimum: 0
          type: integer
          title: width
          format: int32
          description: Desired width in pixels
        height:
          exclusiveMinimum: 0
          type: integer
          title: height
          format: int32
          description: Desired height in pixels
        method:
          title: method
          description: Resizing method (scale or crop)
          $ref: '#/components/schemas/files.v1.ThumbnailMethod'
        timeoutMs:
          type:
            - integer
            - string
          title: timeout_ms
          format: int64
          description: Timeout in milliseconds (default 20000)
        animated:
          type: boolean
          title: animated
          description: Prefer animated thumbnail if available
      title: GetContentThumbnailRequest
      additionalProperties: false
      description: GetContentThumbnailRequest retrieves a thumbnail of content.
    files.v1.GetContentThumbnailResponse:
      type: object
      properties:
        content:
          type: string
          title: content
          format: byte
          description: The thumbnail bytes
        metadata:
          title: metadata
          description: Media metadata
          $ref: '#/components/schemas/files.v1.MediaMetadata'
      title: GetContentThumbnailResponse
      additionalProperties: false
      description: GetContentThumbnailResponse returns the thumbnail.
    files.v1.GetRetentionPolicyRequest:
      type: object
      properties:
        mediaId:
          type: string
          title: media_id
          description: Media ID
      title: GetRetentionPolicyRequest
      additionalProperties: false
    files.v1.GetRetentionPolicyResponse:
      type: object
      properties:
        policy:
          title: policy
          description: Applied retention policy
          $ref: '#/components/schemas/files.v1.RetentionPolicy'
        expiresAt:
          title: expires_at
          description: Calculated expiration time
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: GetRetentionPolicyResponse
      additionalProperties: false
    files.v1.GetSignedDownloadUrlRequest:
      type: object
      properties:
        mediaId:
          type: string
          title: media_id
          description: Media ID to get signed download URL for
        expiresSeconds:
          type:
            - integer
            - string
          title: expires_seconds
          format: int64
          description: URL expiration in seconds
      title: GetSignedDownloadUrlRequest
      additionalProperties: false
    files.v1.GetSignedDownloadUrlResponse:
      type: object
      properties:
        downloadUrl:
          type: string
          title: download_url
          description: Signed download URL
      title: GetSignedDownloadUrlResponse
      additionalProperties: false
    files.v1.GetSignedUploadUrlRequest:
      type: object
      properties:
        mediaId:
          type: string
          title: media_id
          description: Media ID to get signed upload URL for
        expiresSeconds:
          type:
            - integer
            - string
          title: expires_seconds
          format: int64
          description: URL expiration in seconds
      title: GetSignedUploadUrlRequest
      additionalProperties: false
    files.v1.GetSignedUploadUrlResponse:
      type: object
      properties:
        uploadUrl:
          type: string
          title: upload_url
          description: Signed upload URL
      title: GetSignedUploadUrlResponse
      additionalProperties: false
    files.v1.GetStorageStatsRequest:
      type: object
      title: GetStorageStatsRequest
      additionalProperties: false
    files.v1.GetStorageStatsResponse:
      type: object
      properties:
        totalBytes:
          type:
            - integer
            - string
          title: total_bytes
          format: int64
          description: Total storage across all users
        totalFiles:
          type:
            - integer
            - string
          title: total_files
          format: int64
          description: Total files
        totalUsers:
          type:
            - integer
            - string
          title: total_users
          format: int64
          description: Total users with files
      title: GetStorageStatsResponse
      additionalProperties: false
    files.v1.GetUrlPreviewRequest:
      type: object
      properties:
        url:
          type: string
          title: url
          format: uri
          description: URL to preview
      title: GetUrlPreviewRequest
      additionalProperties: false
      description: GetUrlPreviewRequest gets preview information for a URL.
    files.v1.GetUrlPreviewResponse:
      type: object
      properties:
        ogData:
          title: og_data
          description: OpenGraph data (og:title, og:description, etc.)
          $ref: '#/components/schemas/google.protobuf.Struct'
        ogImageMediaId:
          type: string
          title: og_image_media_id
          description: Media ID of the preview image
      title: GetUrlPreviewResponse
      additionalProperties: false
      description: GetUrlPreviewResponse returns OpenGraph data for the URL.
    files.v1.GetUserUsageRequest:
      type: object
      properties:
        userId:
          type: string
          title: user_id
          description: User ID to get usage for
      title: GetUserUsageRequest
      additionalProperties: false
    files.v1.GetUserUsageResponse:
      type: object
      properties:
        usage:
          title: usage
          description: Usage statistics
          $ref: '#/components/schemas/files.v1.UsageStats'
        periodStart:
          title: period_start
          description: Start of billing period
          $ref: '#/components/schemas/google.protobuf.Timestamp'
        periodEnd:
          title: period_end
          description: End of billing period
          $ref: '#/components/schemas/google.protobuf.Timestamp'
      title: GetUserUsageResponse
      additionalProperties: false
    files.v1.GetVersionsRequest:
      type: object
      properties:
        mediaId:
          type: string
          title: media_id
          description: Media ID to get versions for
        limit:
          type: integer
          title: limit
          format: int32
          description: Max versions to return
        beforeVersion:
          type: integer
          title: before_version
          format: int32
          description: Get versions before this version
      title: GetVersionsRequest
      additionalProperties: false
    files.v1.GetVersionsResponse:
      type: object
      properties:
        versions:
          type: array
          items:
            $ref: '#/components/schemas/files.v1.FileVersion'
          title: versions
          description: List of versions
        latestVersion:
          type:
            - integer
            - string
          title: latest_version
          format: int64
          description: Latest version number
      title: GetVersionsResponse
      additionalProperties: false
    files.v1.HeadContentRequest:
      type: object
      properties:
        mediaId:
          type: string
          title: media_id
          minLength: 1
          description: Media ID from MXC URI
      title: HeadContentRequest
      additionalProperties: false
    files.v1.HeadContentResponse:
      type: object
      properties:
        metadata:
          title: metadata
          description: Media metadata
          $ref: '#/components/schemas/files.v1.MediaMetadata'
      title: HeadContentResponse
      additionalProperties: false
    files.v1.ListMultipartPartsRequest:
      type: object
      properties:
        uploadId:
          type: string
          title: upload_id
          description: Upload ID
      title: ListMultipartPartsRequest
      additionalProperties: false
    files.v1.ListMultipartPartsResponse:
      type: object
      properties:
        parts:
          type: array
          items:
            $ref: '#/components/schemas/files.v1.ListMultipartPartsResponse.Part'
          title: parts
          description: List of parts
      title: ListMultipartPartsResponse
      additionalProperties: false
    files.v1.ListMultipartPartsResponse.Part:
      type: object
      properties:
        partNumber:
          type: integer
          title: part_number
          format: int32
          description: Part number
        etag:
          type: string
          title: etag
          description: ETag
        size:
          type:
            - integer
            - string
          title: size
          format: int64
          description: Part size
      title: Part
      additionalProperties: false
    files.v1.ListRetentionPoliciesRequest:
      type: object
      title: ListRetentionPoliciesRequest
      additionalProperties: false
    files.v1.ListRetentionPoliciesResponse:
      type: object
      properties:
        policies:
          type: array
          items:
            $ref: '#/components/schemas/files.v1.RetentionPolicy'
          title: policies
          description: Available policies
      title: ListRetentionPoliciesResponse
      additionalProperties: false
    files.v1.MediaMetadata:
      type: object
      properties:
        mediaId:
          type: string
          title: media_id
          maxLength: 40
          minLength: 3
          pattern: '[0-9a-z_-]{3,40}'
          description: The media ID from the MXC URI
        contentType:
          type: string
          title: content_type
          description: MIME type of the content
        fileSizeBytes:
          type:
            - integer
            - string
          title: file_size_bytes
          format: int64
          description: Size of the file in bytes
        createdAt:
          title: created_at
          description: Creation timestamp
          $ref: '#/components/schemas/google.protobuf.Timestamp'
        updatedAt:
          title: updated_at
          description: Last update timestamp
          $ref: '#/components/schemas/google.protobuf.Timestamp'
        filename:
          type: string
          title: filename
          description: Original filename when uploaded
        checksumSha256:
          type: string
          title: checksum_sha256
          description: SHA256 checksum of the file
        ownerId:
          type: string
          title: owner_id
          description: ID of the user who uploaded the file
        visibility:
          title: visibility
          description: Visibility of the content
          $ref: '#/components/schemas/files.v1.MediaMetadata.Visibility'
        extra:
          title: extra
          description: Additional metadata
          $ref: '#/components/schemas/google.protobuf.Struct'
        expiresAt:
          title: expires_at
          description: Expiration timestamp
          $ref: '#/components/schemas/google.protobuf.Timestamp'
        version:
          type:
            - integer
            - string
          title: version
          format: int64
          description: Current version number (for versioning)
        isLatest:
          type: boolean
          title: is_latest
          description: Whether this is the latest version
      title: MediaMetadata
      additionalProperties: false
      description: MediaMetadata represents metadata about an uploaded file.
    files.v1.MediaMetadata.Visibility:
      type: string
      title: Visibility
      enum:
        - VISIBILITY_UNSPECIFIED
        - PUBLIC
        - PRIVATE
    files.v1.RestoreVersionRequest:
      type: object
      properties:
        mediaId:
          type: string
          title: media_id
          description: Media ID
        version:
          type:
            - integer
            - string
          title: version
          format: int64
          description: Version to restore
      title: RestoreVersionRequest
      additionalProperties: false
    files.v1.RestoreVersionResponse:
      type: object
      properties:
        metadata:
          title: metadata
          description: Metadata of restored file
          $ref: '#/components/schemas/files.v1.MediaMetadata'
      title: RestoreVersionResponse
      additionalProperties: false
    files.v1.RetentionPolicy:
      type: object
      properties:
        policyId:
          type: string
          title: policy_id
          description: Unique policy ID
        name:
          type: string
          title: name
          description: Policy name
        retentionDays:
          type:
            - integer
            - string
          title: retention_days
          format: int64
          description: Retention period in days (-1 for permanent)
        mode:
          title: mode
          $ref: '#/components/schemas/files.v1.RetentionPolicy.Mode'
      title: RetentionPolicy
      additionalProperties: false
    files.v1.RetentionPolicy.Mode:
      type: string
      title: Mode
      enum:
        - MODE_UNSPECIFIED
        - DELETE
        - ARCHIVE
    files.v1.SearchMediaRequest:
      type: object
      properties:
        query:
          type: string
          title: query
          description: Search query string
        limit:
          type: integer
          title: limit
          maximum: 100
          minimum: 1
          format: int32
          description: Results per page (default 20, max 100)
        afterCursor:
          type: string
          title: after_cursor
          description: Cursor for pagination
        ownerId:
          type: string
          title: owner_id
          description: Filter by owner ID
        createdAfter:
          title: created_after
          description: Filter by creation date (after)
          $ref: '#/components/schemas/google.protobuf.Timestamp'
        createdBefore:
          title: created_before
          description: Filter by creation date (before)
          $ref: '#/components/schemas/google.protobuf.Timestamp'
        visibility:
          title: visibility
          description: Filter by visibility
          $ref: '#/components/schemas/files.v1.MediaMetadata.Visibility'
        contentType:
          type: string
          title: content_type
          description: Filter by MIME type prefix (e.g., "image/")
        sortBy:
          title: sort_by
          description: Sort field
          $ref: '#/components/schemas/files.v1.SearchMediaRequest.SortBy'
        sortDesc:
          type: boolean
          title: sort_desc
          description: Sort descending (default false)
      title: SearchMediaRequest
      additionalProperties: false
      description: SearchMediaRequest searches for media files.
    files.v1.SearchMediaRequest.SortBy:
      type: string
      title: SortBy
      enum:
        - SORT_BY_UNSPECIFIED
        - CREATED_AT
        - UPDATED_AT
        - FILENAME
        - FILE_SIZE
    files.v1.SearchMediaResponse:
      type: object
      properties:
        results:
          type: array
          items:
            $ref: '#/components/schemas/files.v1.MediaMetadata'
          title: results
          description: Array of matching media metadata
        nextCursor:
          type: string
          title: next_cursor
          description: Cursor for next page
      title: SearchMediaResponse
      additionalProperties: false
      description: SearchMediaResponse returns search results.
    files.v1.SetRetentionPolicyRequest:
      type: object
      properties:
        mediaId:
          type: string
          title: media_id
          description: Media ID
        policyId:
          type: string
          title: policy_id
          description: Policy ID to apply
      title: SetRetentionPolicyRequest
      additionalProperties: false
    files.v1.SetRetentionPolicyResponse:
      type: object
      properties:
        success:
          type: boolean
          title: success
      title: SetRetentionPolicyResponse
      additionalProperties: false
    files.v1.ThumbnailMethod:
      type: string
      title: ThumbnailMethod
      enum:
        - SCALE
        - CROP
      description: |-
        ThumbnailMethod defines how thumbnails should be generated.
         buf:lint:ignore ENUM_VALUE_PREFIX
    files.v1.UploadContentRequest:
      type: object
      oneOf:
        - properties:
            chunk:
              type: string
              title: chunk
              format: byte
              description: Content chunk (one or more messages)
          title: chunk
          required:
            - chunk
        - properties:
            metadata:
              title: metadata
              description: Metadata (required as first message)
              $ref: '#/components/schemas/files.v1.UploadMetadata'
          title: metadata
          required:
            - metadata
      title: UploadContentRequest
      additionalProperties: false
      description: |-
        UploadContentRequest uploads content to the content repository via streaming.
         First message must contain metadata, followed by one or more messages with chunks.
    files.v1.UploadContentResponse:
      type: object
      properties:
        contentUri:
          type: string
          title: content_uri
          description: The mxc:// URI for the uploaded content
        mediaId:
          type: string
          title: media_id
          description: Extracted media ID from the URI
        serverName:
          type: string
          title: server_name
          description: Extracted server name from the URI
        metadata:
          title: metadata
          description: Full media metadata
          $ref: '#/components/schemas/files.v1.MediaMetadata'
      title: UploadContentResponse
      additionalProperties: false
      description: UploadContentResponse returns the MXC URI for the uploaded content.
    files.v1.UploadMetadata:
      type: object
      properties:
        contentType:
          type: string
          title: content_type
          description: MIME type of the content (defaults to application/octet-stream)
        filename:
          type: string
          title: filename
          description: Original filename
        totalSize:
          type:
            - integer
            - string
          title: total_size
          format: int64
          description: Total size of the file in bytes (optional)
        properties:
          title: properties
          description: Additional properties
          $ref: '#/components/schemas/google.protobuf.Struct'
        ownerId:
          type: string
          title: owner_id
          description: Owner ID (for service-side uploads)
        visibility:
          title: visibility
          description: Initial visibility (defaults to PRIVATE)
          $ref: '#/components/schemas/files.v1.MediaMetadata.Visibility'
        expiresAt:
          title: expires_at
          description: Expiration timestamp
          $ref: '#/components/schemas/google.protobuf.Timestamp'
        serverName:
          type: string
          title: server_name
          description: 'Optional: Set these to upload to a pre-created MXC URI (from CreateContent) Server name from the MXC URI (e.g., "example.com" from "mxc://example.com/abc123")'
        mediaId:
          type: string
          title: media_id
          maxLength: 40
          minLength: 3
          pattern: '[0-9a-z_-]{3,40}'
          description: Media ID from the MXC URI (e.g., "abc123" from "mxc://example.com/abc123")
      title: UploadMetadata
      additionalProperties: false
      description: |-
        UploadMetadata contains metadata for file upload.
         This must be sent as the first message in the upload stream.

         Usage:
         - For new uploads: Leave server_name and media_id empty. The service will generate a new MXC URI.
         - For pre-created MXC URIs: Set server_name and media_id from the URI created via CreateContent.
           This allows uploading content to a URI that was created earlier, useful for resumable uploads
           or when you need the URI before the content is ready.
    files.v1.UploadMultipartPartRequest:
      type: object
      properties:
        uploadId:
          type: string
          title: upload_id
          description: Upload ID from CreateMultipartUpload
        partNumber:
          type: integer
          title: part_number
          format: int32
          description: Part number (starts from 1)
        content:
          type: string
          title: content
          format: byte
          description: Part content
      title: UploadMultipartPartRequest
      additionalProperties: false
    files.v1.UploadMultipartPartResponse:
      type: object
      properties:
        etag:
          type: string
          title: etag
          description: ETag for the uploaded part
        partNumber:
          type: integer
          title: part_number
          format: int32
          description: Part number
        size:
          type:
            - integer
            - string
          title: size
          format: int64
          description: Size of the uploaded part
      title: UploadMultipartPartResponse
      additionalProperties: false
    files.v1.UsageStats:
      type: object
      properties:
        totalFiles:
          type:
            - integer
            - string
          title: total_files
          format: int64
          description: Total number of files
        totalBytes:
          type:
            - integer
            - string
          title: total_bytes
          format: int64
          description: Total storage used
        publicFiles:
          type:
            - integer
            - string
          title: public_files
          format: int64
          description: Number of public files
        privateFiles:
          type:
            - integer
            - string
          title: private_files
          format: int64
          description: Number of private files
      title: UsageStats
      additionalProperties: false
    google.protobuf.ListValue:
      type: object
      properties:
        values:
          type: array
          items:
            $ref: '#/components/schemas/google.protobuf.Value'
          title: values
          description: Repeated field of dynamically typed values.
      title: ListValue
      additionalProperties: false
      description: |-
        `ListValue` is a wrapper around a repeated field of values.

         The JSON representation for `ListValue` is JSON array.
    google.protobuf.NullValue:
      type: string
      title: NullValue
      enum:
        - NULL_VALUE
      description: |-
        `NullValue` is a singleton enumeration to represent the null value for the
         `Value` type union.

         The JSON representation for `NullValue` is JSON `null`.
    google.protobuf.Struct:
      type: object
      additionalProperties:
        $ref: '#/components/schemas/google.protobuf.Value'
      description: |-
        `Struct` represents a structured data value, consisting of fields
         which map to dynamically typed values. In some languages, `Struct`
         might be supported by a native representation. For example, in
         scripting languages like JS a struct is represented as an
         object. The details of that representation are described together
         with the proto support for the language.

         The JSON representation for `Struct` is JSON object.
    google.protobuf.Struct.FieldsEntry:
      type: object
      properties:
        key:
          type: string
          title: key
        value:
          title: value
          $ref: '#/components/schemas/google.protobuf.Value'
      title: FieldsEntry
      additionalProperties: false
    google.protobuf.Timestamp:
      type: string
      examples:
        - "2023-01-15T01:30:15.01Z"
        - "2024-12-25T12:00:00Z"
      format: date-time
      description: |-
        A Timestamp represents a point in time independent of any time zone or local
         calendar, encoded as a count of seconds and fractions of seconds at
         nanosecond resolution. The count is relative to an epoch at UTC midnight on
         January 1, 1970, in the proleptic Gregorian calendar which extends the
         Gregorian calendar backwards to year one.

         All minutes are 60 seconds long. Leap seconds are "smeared" so that no leap
         second table is needed for interpretation, using a [24-hour linear
         smear](https://developers.google.com/time/smear).

         The range is from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59.999999999Z. By
         restricting to that range, we ensure that we can convert to and from [RFC
         3339](https://www.ietf.org/rfc/rfc3339.txt) date strings.

         # Examples

         Example 1: Compute Timestamp from POSIX `time()`.

             Timestamp timestamp;
             timestamp.set_seconds(time(NULL));
             timestamp.set_nanos(0);

         Example 2: Compute Timestamp from POSIX `gettimeofday()`.

             struct timeval tv;
             gettimeofday(&tv, NULL);

             Timestamp timestamp;
             timestamp.set_seconds(tv.tv_sec);
             timestamp.set_nanos(tv.tv_usec * 1000);

         Example 3: Compute Timestamp from Win32 `GetSystemTimeAsFileTime()`.

             FILETIME ft;
             GetSystemTimeAsFileTime(&ft);
             UINT64 ticks = (((UINT64)ft.dwHighDateTime) << 32) | ft.dwLowDateTime;

             // A Windows tick is 100 nanoseconds. Windows epoch 1601-01-01T00:00:00Z
             // is 11644473600 seconds before Unix epoch 1970-01-01T00:00:00Z.
             Timestamp timestamp;
             timestamp.set_seconds((INT64) ((ticks / 10000000) - 11644473600LL));
             timestamp.set_nanos((INT32) ((ticks % 10000000) * 100));

         Example 4: Compute Timestamp from Java `System.currentTimeMillis()`.

             long millis = System.currentTimeMillis();

             Timestamp timestamp = Timestamp.newBuilder().setSeconds(millis / 1000)
                 .setNanos((int) ((millis % 1000) * 1000000)).build();

         Example 5: Compute Timestamp from Java `Instant.now()`.

             Instant now = Instant.now();

             Timestamp timestamp =
                 Timestamp.newBuilder().setSeconds(now.getEpochSecond())
                     .setNanos(now.getNano()).build();

         Example 6: Compute Timestamp from current time in Python.

             timestamp = Timestamp()
             timestamp.GetCurrentTime()

         # JSON Mapping

         In JSON format, the Timestamp type is encoded as a string in the
         [RFC 3339](https://www.ietf.org/rfc/rfc3339.txt) format. That is, the
         format is "{year}-{month}-{day}T{hour}:{min}:{sec}[.{frac_sec}]Z"
         where {year} is always expressed using four digits while {month}, {day},
         {hour}, {min}, and {sec} are zero-padded to two digits each. The fractional
         seconds, which can go up to 9 digits (i.e. up to 1 nanosecond resolution),
         are optional. The "Z" suffix indicates the timezone ("UTC"); the timezone
         is required. A proto3 JSON serializer should always use UTC (as indicated by
         "Z") when printing the Timestamp type and a proto3 JSON parser should be
         able to accept both UTC and other timezones (as indicated by an offset).

         For example, "2017-01-15T01:30:15.01Z" encodes 15.01 seconds past
         01:30 UTC on January 15, 2017.

         In JavaScript, one can convert a Date object to this format using the
         standard
         [toISOString()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString)
         method. In Python, a standard `datetime.datetime` object can be converted
         to this format using
         [`strftime`](https://docs.python.org/2/library/time.html#time.strftime) with
         the time format spec '%Y-%m-%dT%H:%M:%S.%fZ'. Likewise, in Java, one can use
         the Joda Time's [`ISODateTimeFormat.dateTime()`](
         http://joda-time.sourceforge.net/apidocs/org/joda/time/format/ISODateTimeFormat.html#dateTime()
         ) to obtain a formatter capable of generating timestamps in this format.
    google.protobuf.Value:
      oneOf:
        - type: "null"
        - type: number
        - type: string
        - type: boolean
        - type: array
        - type: object
          additionalProperties: true
      description: |-
        `Value` represents a dynamically typed value which can be either
         null, a number, a string, a boolean, a recursive struct value, or a
         list of values. A producer of value is expected to set one of these
         variants. Absence of any variant indicates an error.

         The JSON representation for `Value` is JSON value.
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
security: []
tags:
  - name: files.v1.FilesService
    description: |-
      FilesService manages file and media operations including upload, download,
       thumbnail generation, and search functionality.
